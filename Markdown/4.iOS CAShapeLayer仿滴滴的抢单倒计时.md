æœ€è¿‘å‘çˆ¹çš„å…¬å¸åˆåœ¨æ¨¡ä»¿æ»´æ»´...

è¦åšå¸‚å†…æŠ¢å•çš„ç‰ˆæœ¬äº†...

tmd...

ä¸€ä¸‡ä¸ªä¸æ„¿æ„...

T_aa...

æœ€å...



è¿˜æ˜¯è¦åš...


æ²¡è„¾æ°”......................................

***

æ»´æ»´é‡Œé¢æœ‰ä¸€ä¸ªä¸‹å•å®Œæˆä¹‹åç­‰å¾…ç•Œé¢çš„å€’è®¡æ—¶è½¬åœˆçš„è§†å›¾...


![91CEFCE7-330C-4107-A69A-11F7DFE8021C.png](http://upload-images.jianshu.io/upload_images/2019043-143ff1b0cd401c80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

å°±æ˜¯è¿™ä¸ª...

å¼€å§‹æ—¶å€™åœ¨æƒ³è¿™ä¸ªä¸œè¥¿éœ€è¦æ€ä¹ˆåš...

ä¹Ÿæ²¡æœ‰æ€è·¯...

ç»˜å›¾ä»€ä¹ˆæˆ‘ä¸ä¼šğŸ˜‚...

åé¢æ„Ÿè§‰è¿™ä¸ªåŠ è½½çš„è¿›åº¦è·ŸSVProgressHUDçš„progressViewæœ‰ç‚¹åƒ...

å°±ç›´æ¥ç”¨SVProgressAnimatedViewå¼€å§‹åŠ å·¥äº†...

ç½‘ä¸Šçš„èµ„æ–™ä¹Ÿç¿»çœ‹äº†ä¸€äº›ä½†æ˜¯æ„Ÿè§‰å†™çš„ä¸æ˜¯å¾ˆå¥½...

è¿˜æ˜¯è‡ªå·±å†™çš„æ‰æ˜¯æœ€å¥½çš„...

****

#####åŸç†ï¼š

é€šè¿‡CAShapeLayerå±‚æ·»åŠ åˆ°è‡ªå·±è‡ªå®šä¹‰çš„è§†å›¾layerä¸Š...

è®¾ç½®ShapeLayerçš„path...

ä»–çš„è·¯åŠ²ç»˜åˆ¶ä¸€èˆ¬é€šè¿‡UIBezierPathé…åˆè®¾ç½®...

######Mark...UIBezierPathè¦å¥½å¥½å­¦è¦å¥½å¥½å­¦.................

é€šè¿‡layerçš„StrokeEnd,StrokeStartè®¾ç½®pathè·¯å¾„ä¸Šçš„èµ·ç‚¹å’Œç»ˆç‚¹...

å¯ä»¥ç›´æ¥é€šè¿‡è®¾ç½®è¿™ä¸¤ä¸ªç‚¹å°±æœ‰å¹³æ»‘çš„ä¸œè¥¿æ•ˆæœ...


å…ˆçœ‹æ•ˆæœ...


![D71FD6E7-BFCF-481E-B9FF-A8DD0B44246B.png](http://upload-images.jianshu.io/upload_images/2019043-aae45f56720fcd4d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

***


çœ‹å·¦è¾¹è§†å›¾...

åˆ†æˆä¸‰éƒ¨åˆ†...

çº¢è‰²è¿›åº¦å˜åŒ–çš„ä¸€ä¸ªShapeLayer...

åº•éƒ¨ç°è‰²èƒŒæ™¯çš„ä¸€ä¸ªShapeLayer...

å¤´éƒ¨ç»¿è‰²æ–¹å‘çš„ä¸€ä¸ªShapeLayer...

ä¸»è¦æ˜¯ç»¿è‰²çš„é‚£éƒ¨åˆ†æ˜¯é€šè¿‡å®æ—¶è®¡ç®—å®ƒçš„strokestartå’Œstrokeendæ¥æ§åˆ¶ä»–å§‹ç»ˆå°±æ˜¯é‚£ä¹ˆä¸€ä¸ªé•¿åº¦...

>è¯´ä¸€ä¸‹è®¡ç®—è¿‡ç¨‹...


![D4B300BC-E766-4F1A-BC6C-9A92D06557BF.png](http://upload-images.jianshu.io/upload_images/2019043-bc0921b5de80f063.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

å›¾ä¸­é»„è‰²ä¸ºå¤´éƒ¨é‚£ä¸ªç‚¹ï¼ˆs1ï¼‰...

ç°è‰²ä¸ºåº•éƒ¨å¤§åœ†çš„å››åˆ†ä¹‹ä¸€ï¼ˆs2ï¼‰...

è¦è®¡ç®—å‡ºè¿™ä¸ªs1çš„strokeStart,strokeEndä¹‹é—´çš„å·®å€¼å°±æ˜¯éœ€è¦è®¡ç®—å‡ºs2æ‰€åœ¨s1ä¸­å‘¨é•¿æ‰€å çš„æ¯”ä¾‹...

è¿™ä¸ªæ¯”ä¾‹å¦‚æœè½¬åŒ–æˆå¼§åº¦æˆ–è€…è§’åº¦æ¯”çš„è¯å°±å¯ä»¥é€šè¿‡aè§’åº¦æ¥è®¡ç®—...

æ ¹æ®ä½™å¼¦å®šç†:

>`cosa = (b*b+c*c-a*a)/(2*b*c)`

å°±å¯å¾—å‡ºaçš„å¼§åº¦å€¼...

æ¢ç®—æ¯”ä¾‹å°±æ˜¯strokeçš„startå’Œendçš„å·®å€¼...

è€å¸ˆæ•™çš„æ•°å­¦ç»ˆäºåœ¨è¿™é‡Œç”¨åˆ°äº†...

å¥½ç¥å¥‡...

ä¸»è¦ä»£ç :

```
    //è®¡ç®—è¿™ä¸ªpointçš„startå’Œendæ‰€å ç”¨è¿™ä¸ªè§’å¼§åº¦å€¼
    //ä½™å¼¦å®šç†  cosc = (a*a + b*b - c*c)/(2*a*b);
    float radian = cosf((self.radius*self.radius+self.radius*self.radius - (self.pointRadius*2)*(self.pointRadius*2)))/(2*self.radius*self.radius);
    
    //å¤´éƒ¨ç‚¹æ‰€å è·¯åŠ²çš„å‘¨é•¿
    float offsetProgress = radian/(M_PI*2);
    
    
    _pointAnimatedLayer.strokeStart = _strokeEnd-offsetProgress;
    _pointAnimatedLayer.strokeEnd = MIN(_strokeEnd, 1);
```


![93C03F05-24B2-4413-A46F-069400038EA2.png](http://upload-images.jianshu.io/upload_images/2019043-f670b26f05f96650.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

é»‘ç‚¹åœ†äº†...

å…¶ä»–çš„è°ƒæ•´ä¸€ä¸‹å°±å¥½...

ä¿®ä¿®æ”¹æ”¹æ€»ä½“æ•ˆæœè¿˜ä¸é”™...

å“ˆå“ˆå“ˆ...

æˆ‘ä¹Ÿä¸çŸ¥é“è‡ªå·±åœ¨å†™ä»€ä¹ˆ...

----

**æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼š**

![å¾®ä¿¡å…¬ä¼—å·](http://upload-images.jianshu.io/upload_images/2019043-479ebe6808a79586.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


***

###[é¡¹ç›®åœ°å€åœ¨è¿™é‡Œ....](https://github.com/MaiyaT/AongQ)



å…¶ä¸­çš„CAShapeLayer-Progress....

å¦‚æœéœ€è¦çš„è¯ å¯ä»¥è‡ªå·±å»æ”¹æ”¹...

å…¬å¸é¡¹ç›®æ¯”è¾ƒèµ¶...

åªä¸ºäº†å®ç°...

è‡ªå·±éƒ½æ²¡æ—¶é—´å»ç»†åŒ–...

å­¦ä¹ ...

å¦‚æœæœ‰é—®é¢˜æ¬¢è¿æå‡º...

å…±è¿›...